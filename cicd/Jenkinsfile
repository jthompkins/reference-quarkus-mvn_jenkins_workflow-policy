// Load the TSSC Jenkins Library
library identifier: 'ploigos-jenkins-library@feature/refactor',
retriever: modernSCM([
    $class: 'GitSCMSource',
    remote: 'https://github.com/itewk/ploigos-jenkins-library.git'
])

// run the pipeline
ploigosWorkflowStandard(
    stepRunnerConfigDir: 'cicd/ploigos-step-runner-config/',
    pgpKeysSecretName: 'pgp-keys-ploigos-workflow-ref-quarkus-mvn-jenkins-std-fruit',

    workflowServiceAccountName: 'ploigos-workflow-ref-quarkus-mvn-jenkins-std-fruit',

    workflowWorkersImagePullPolicy: 'Always',

    workflowWorkerImageUnitTest: 'tssc/tssc-tool-maven:nightly',
    workflowWorkerImagePackage: 'tssc/tssc-tool-maven:nightly',
    workflowWorkerImageStaticCodeAnalysis: 'tssc/tssc-tool-sonar:nightly',
    workflowWorkerImagePushArtifacts: 'tssc/tssc-tool-maven:nightly',
    workflowWorkerImageUAT: 'tssc/tssc-tool-maven:nightly',

    stepRunnerUpdateLibrary: true,
    stepRunnerLibSourceUrl: "git+https://github.com/rhtconsulting/tssc-python-package.git@main"
)
